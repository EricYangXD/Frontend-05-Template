{"version":3,"sources":["js/observer.js"],"names":["Observer","data","walk","Object","keys","forEach","key","defineReactive","obj","val","defineProperty","enumerable","configurable","get","set","newVal"],"mappings":";;;;;;;;AAAA;;;;;;;IAOMA;AACL,oBAAYC,IAAZ,EAAkB;AAAA;;AACjB,SAAKC,IAAL,CAAUD,IAAV;AACA;;;;yBACIA,MAAM;AAAA;;AACV;AACA,UAAI,CAACA,IAAD,IAAS,QAAOA,IAAP,MAAgB,QAA7B,EAAuC,OAF7B,CAIV;;AACAE,MAAAA,MAAM,CAACC,IAAP,CAAYH,IAAZ,EAAkBI,OAAlB,CAA0B,UAACC,GAAD,EAAS;AAClC,QAAA,KAAI,CAACC,cAAL,CAAoBN,IAApB,EAA0BK,GAA1B,EAA+BL,IAAI,CAACK,GAAD,CAAnC;AACA,OAFD;AAGA,MACD;;;;mCACeE,KAAKF,KAAKG,KAAK;AAC7BN,MAAAA,MAAM,CAACO,cAAP,CAAsBF,GAAtB,EAA2BF,GAA3B,EAAgC;AAC/BK,QAAAA,UAAU,EAAE,IADmB;AAE/BC,QAAAA,YAAY,EAAE,IAFiB;AAG/BC,QAAAA,GAH+B,iBAGzB;AACL,iBAAOJ,GAAP;AACA,SAL8B;AAM/BK,QAAAA,GAN+B,eAM3BC,MAN2B,EAMnB;AACX,cAAIA,MAAM,KAAKN,GAAf,EAAoB;AACnB;AACA,WAHU,CAIX;;;AACAA,UAAAA,GAAG,GAAGM,MAAN;AACA;AAZ8B,OAAhC;AAcA","file":"observer.565404cd.js","sourceRoot":"..","sourcesContent":["/*\n * @Author: Eric YangXinde\n * @Date: 2020-10-11 22:07:30\n * @LastModifiedBy: Eric YangXinde\n * @LastEditTime: 2020-10-11 22:25:41\n * @Description:\n */\nclass Observer {\n\tconstructor(data) {\n\t\tthis.walk(data);\n\t}\n\twalk(data) {\n\t\t// 1.判断data是否为空\n\t\tif (!data || typeof data !== \"object\") return;\n\n\t\t// 2.遍历data对象的所有属性\n\t\tObject.keys(data).forEach((key) => {\n\t\t\tthis.defineReactive(data, key, data[key]);\n\t\t});\n\t}\n\t// 把数据实现响应式\n\tdefineReactive(obj, key, val) {\n\t\tObject.defineProperty(obj, key, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tget() {\n\t\t\t\treturn val;\n\t\t\t},\n\t\t\tset(newVal) {\n\t\t\t\tif (newVal === val) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// obj[key]=newVal\n\t\t\t\tval = newVal;\n\t\t\t},\n\t\t});\n\t}\n}\n"]}